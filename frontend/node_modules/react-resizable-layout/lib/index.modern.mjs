import{useRef as e,useState as n,useMemo as t,useCallback as r}from"react";function i(){return i=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i.apply(this,arguments)}const o=["ArrowRight","Right"],a=["ArrowDown","Down"],s=["ArrowLeft","Left",...o],c=["ArrowUp","Up",...a],u=[...o,...a],l=({axis:o,disabled:a=!1,initial:l=0,min:d=0,max:p=Infinity,reverse:f,step:m=10,shiftStep:v=50,onResizeStart:h,onResizeEnd:g,containerRef:y})=>{const w=Math.min(Math.max(l,d),p),x=e(!1),[R,b]=n(!1),[D,P]=n(w),E=e(w),[z,k]=n(w),L=t(()=>({role:"separator","aria-valuenow":D,"aria-valuemin":d,"aria-valuemax":p,"aria-orientation":"x"===o?"vertical":"horizontal","aria-disabled":a}),[o,a,p,d,D]),A=r(e=>{if(!x.current)return;if(a)return;e.stopPropagation(),e.preventDefault();let n=(()=>{if("x"===o){if(null!=y&&y.current){const n=y.current,{left:t,width:r}=n.getBoundingClientRect();return f?t+r-e.clientX:e.clientX-t}return f?document.body.offsetWidth-e.clientX:e.clientX}if(null!=y&&y.current){const n=y.current,{top:t,height:r}=n.getBoundingClientRect();return f?t+r-e.clientY:e.clientY-t}return f?document.body.offsetHeight-e.clientY:e.clientY})();n=Math.min(Math.max(n,d),p),P(n),E.current=n},[o,a,p,d,f,y]),C=r(e=>{a||(e.stopPropagation(),x.current=!1,b(!1),k(E.current),document.removeEventListener("pointermove",A),document.removeEventListener("pointerup",C),g&&g({position:E.current}))},[a,A,g]),M=r(e=>{a||(e.stopPropagation(),x.current=!0,b(!0),document.addEventListener("pointermove",A),document.addEventListener("pointerup",C),h&&h({position:E.current}))},[a,A,C,h]),O=r(e=>{if(a)return;if("Enter"===e.key)return P(l),void(E.current=l);if("x"===o&&!s.includes(e.key)||"y"===o&&!c.includes(e.key))return;h&&h({position:E.current});const n=e.shiftKey?v:m,t=f?-1:1,r=u.includes(e.key)?t:-1*t,i=D+n*r;i<d?(P(d),E.current=d):i>p?(P(p),E.current=p):(P(i),E.current=i),g&&g({position:E.current})},[a,o,h,v,m,f,D,d,p,g,l]),S=r(()=>{a||(P(l),E.current=l)},[a,l]);return{position:D,endPosition:z,isDragging:R,separatorProps:i({},L,{onPointerDown:M,onKeyDown:O,onDoubleClick:S}),setPosition:P,splitterProps:i({},L,{onPointerDown:M,onKeyDown:O,onDoubleClick:S})}},d=({axis:e,disabled:n=!1,initial:t=0,min:r=0,max:i=Infinity,reverse:o,onResizeStart:a,onResizeEnd:s,children:c,containerRef:u})=>c(l({axis:e,disabled:n,initial:t,min:r,max:i,reverse:o,onResizeStart:a,onResizeEnd:s,containerRef:u}));export{d as default,l as useResizable};
